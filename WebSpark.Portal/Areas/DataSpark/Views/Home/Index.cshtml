@model CsvViewModel

<div class="container mt-5">
    <!-- Header Section -->
    <div class="text-center mb-4">
        <h1 class="display-4 fw-bold text-primary">
            Analyze Your Data with DataSpark
        </h1>
        <p class="lead text-muted">
            Easily upload your CSV file and unlock insights using .NET data science tools. DataSpark simplifies the data analysis process, allowing you to focus on what matters: extracting valuable insights from your data.
        </p>
    </div>
    <!-- Introduction Section -->
    <section class="my-5">
        <div class="row">
            <div class="col-md-4">
                <img src="/img/app-badges/datasparklogo.webp"
                     class="img-fluid rounded shadow-sm"
                     alt="Data science demos with .NET and CSV files"
                     style="max-width: 100%; max-height: 300px;">
            </div>
            <div class="col-md-8">
                <h2 class="fw-bold text-secondary">What is DataSpark?</h2>
                <p class="text-justify">
                    DataSpark is a part of the WebSpark series of projects on <a href="https://markhazleton.com" class="text-decoration-none">markhazleton.com</a>, dedicated to demonstrating the potential of Microsoft .NET technologies in data science. With DataSpark, you can easily explore fundamental data science techniques, from data cleaning to basic statistical analysis, all using the familiar environment of .NET and simple CSV files.
                </p>
                <p class="text-justify">
                    Designed for both novice developers and seasoned data enthusiasts, DataSpark provides a straightforward approach to manipulating and analyzing data. No need for complex setups or unfamiliar tools; simply use .NET to unlock insights hidden within your data.
                </p>
            </div>
        </div>
    </section>
    <!-- Upload Instructions Section -->
    <section class="my-4">
        <div class="row">
            <div class="col-md-6">
                <h2 class="fw-bold text-secondary">How It Works</h2>
                <p>
                    DataSpark makes it easy to get started with data analysis. Just follow these simple steps:
                </p>
                <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <i class="bi bi-upload me-2 text-primary"></i><strong>Step 1:</strong> Select your CSV file and upload it using the form below.
                    </li>
                    <li class="list-group-item">
                        <i class="bi bi-gear me-2 text-primary"></i><strong>Step 2:</strong> DataSpark will process your file, automatically detecting and analyzing the data.
                    </li>
                    <li class="list-group-item">
                        <i class="bi bi-bar-chart-line me-2 text-primary"></i><strong>Step 3:</strong> View the results, including statistical summaries, data visualizations, and insights.
                    </li>
                </ul>
                <p class="mt-3">
                    Whether you're looking to analyze sales data, survey responses, or any other dataset, DataSpark is the tool for you. By leveraging .NET technologies, we ensure fast, reliable, and accurate data processing.
                </p>
            </div>
            <div class="col-md-6">
                <!-- CSV Upload Form Section -->
                <div class="card shadow-sm">
                    <div class="card-header bg-primary text-white">
                        <h5 class="card-title mb-0">Upload Your CSV File for Analysis</h5>
                    </div>
                    <div class="card-body">
                        <form asp-action="Upload" enctype="multipart/form-data" method="post" class="needs-validation" novalidate>
                            <div class="mb-3">
                                <label for="file" class="form-label">Select CSV File</label>
                                <input type="file" name="file" class="form-control" id="file" accept=".csv" required>
                                <div class="invalid-feedback">
                                    Please select a valid CSV file.
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">
                                <i class="bi bi-upload"></i> Upload
                            </button>
                        </form>

                        @if (!string.IsNullOrEmpty(Model.Message))
                        {
                            <div class="alert alert-warning mt-3" role="alert">
                                <i class="bi bi-exclamation-triangle-fill"></i> @Model.Message
                            </div>
                        }
                    </div>
                </div>

                <!-- Available CSV Files Section -->
                @if (Model.AvailableCsvFiles?.Count > 0)
                {
                    <div class="mt-4">
                        <h5 class="fw-bold text-secondary">Available CSV Files</h5>
                        <ul class="list-group">
                            @foreach (var file in Model.AvailableCsvFiles)
                            {
                                <li class="list-group-item d-flex justify-content-between align-items-center">
                                    <i class="bi bi-file-earmark-spreadsheet me-2 text-primary"></i> @file
                                    <form asp-action="ProcessExistingFile" method="post" class="d-inline">
                                        <input type="hidden" name="fileName" value="@file" />
                                        <button type="submit" class="btn btn-sm btn-primary">
                                            Process
                                        </button>
                                    </form>
                                </li>
                            }
                        </ul>
                    </div>
                }
            </div>
        </div>
    </section>

    <!-- Benefits Section -->
    <section class="my-5">
        <h2 class="fw-bold text-center text-secondary">Why Use DataSpark?</h2>
        <div class="row text-center mt-4">
            <div class="col-md-4">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <i class="bi bi-lightning-fill display-4 text-primary"></i>
                        <h3 class="card-title mt-3">Fast Processing</h3>
                        <p class="card-text">
                            With .NET's powerful processing capabilities, DataSpark quickly handles large datasets, making your data analysis seamless and efficient.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <i class="bi bi-shield-lock-fill display-4 text-primary"></i>
                        <h3 class="card-title mt-3">Secure and Reliable</h3>
                        <p class="card-text">
                            Your data is processed securely with .NET's robust framework, ensuring reliability and accuracy in every analysis.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <i class="bi bi-graph-up-arrow display-4 text-primary"></i>
                        <h3 class="card-title mt-3">Actionable Insights</h3>
                        <p class="card-text">
                            From basic statistics to data visualization, DataSpark provides you with actionable insights, helping you make data-driven decisions.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>


    <!-- Key Features Section -->
    <section class="my-5">
        <h2 class="fw-bold text-center text-secondary">Key Features of DataSpark</h2>
        <div class="row text-center mt-4">
            <div class="col-md-4">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <i class="bi bi-file-earmark-spreadsheet-fill display-4 text-primary"></i>
                        <h3 class="card-title mt-3">CSV Integration</h3>
                        <p class="card-text">
                            Load and process CSV files effortlessly with .NET. Whether it’s sales data, survey results, or scientific measurements, DataSpark simplifies your data import process.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <i class="bi bi-bar-chart-line-fill display-4 text-primary"></i>
                        <h3 class="card-title mt-3">Data Analysis</h3>
                        <p class="card-text">
                            Perform essential statistical calculations like mean, median, mode, standard deviation, and skewness with ease. DataSpark turns raw data into valuable insights in no time.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card shadow-sm h-100">
                    <div class="card-body">
                        <i class="bi bi-graph-up-arrow display-4 text-primary"></i>
                        <h3 class="card-title mt-3">Visual Insights</h3>
                        <p class="card-text">
                            Visualize your data with simple charts and graphs directly within the .NET environment. Gain clarity and make data-driven decisions faster with DataSpark’s visualization tools.
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- How It Works Section -->
    <section class="my-5" id="get-started">
        <h2 class="fw-bold text-center text-secondary">How DataSpark Works</h2>
        <div class="row mt-4">
            <div class="col-md-4 text-center">
                <div class="p-4">
                    <i class="bi bi-cloud-upload-fill display-4 text-primary"></i>
                    <h4 class="mt-3">1. Upload Your CSV</h4>
                    <p>
                        Start by uploading your CSV file. DataSpark supports various formats and automatically detects the structure of your data.
                    </p>
                </div>
            </div>
            <div class="col-md-4 text-center">
                <div class="p-4">
                    <i class="bi bi-gear-fill display-4 text-primary"></i>
                    <h4 class="mt-3">2. Process Your Data</h4>
                    <p>
                        Clean, analyze, and transform your data using .NET-powered tools. Handle missing values, convert data types, and more with ease.
                    </p>
                </div>
            </div>
            <div class="col-md-4 text-center">
                <div class="p-4">
                    <i class="bi bi-lightbulb-fill display-4 text-primary"></i>
                    <h4 class="mt-3">3. Gain Insights</h4>
                    <p>
                        Quickly extract insights from your data with DataSpark’s intuitive analysis and visualization features. Make data-driven decisions confidently.
                    </p>
                </div>
            </div>
        </div>
    </section>

</div>

<!-- Bootstrap validation script -->
<script>
    (function() {
        'use strict';
        var forms = document.querySelectorAll('.needs-validation');
        Array.prototype.slice.call(forms).forEach(function(form) {
            form.addEventListener('submit', function(event) {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                form.classList.add('was-validated');
            }, false);
        });
    })();
</script>
